// parameters --
// number of matchs: 1
// number of balls: 1
// delay: 1

ended(0).
t_total(1).

!init.

+!init : t_total(T) =>
    #println("start at:");
    #println(#System.currentTimeMillis());
    N = "ponger" + #executionContext.name.replaceAll("pinger","");
    for(I in between(1,T,I)) {
          W = #math.random() * 1;
          #achieve(N, pong(W));
        }
   .

@atomic
+!finished : ended(I) && t_total(T) =>
    if(T == I + 1) {
        #println("done at:");
        #println(#System.currentTimeMillis());
        #std.coms.exit();
    };
    -ended(I);
    +ended(I + 1)
.

